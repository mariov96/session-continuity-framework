{
  "_scf_metadata": {
    "version": "2.2.0",
    "structure_version": "v2",
    "description": "SCF-enabled project with context persistence",
    "framework_path": null,
    "hub_path": null
  },

  "_scf_bootstrap": {
    "_purpose": "Instructions for AI assistants to find or create SCF components",

    "find_framework": {
      "check_order": [
        "1. Read framework_path from _scf_metadata above",
        "2. Check if 'scf' command is in PATH",
        "3. Look for ~/projects/session-continuity-framework",
        "4. Look for ~/.scf-framework",
        "5. Search for directory containing 'scf' CLI and 'teach.py'"
      ],
      "if_not_found": "Ask user: 'Where is your SCF framework installed? (git clone https://github.com/mariov96/session-continuity-framework)'"
    },

    "find_hub": {
      "check_order": [
        "1. Read hub_path from _scf_metadata above",
        "2. Look for ~/scf-hub",
        "3. Look for ~/.scf-hub",
        "4. Check framework's connected_spokes for this project"
      ],
      "if_not_found": "Run: cd <framework_path> && ./scf hub create"
    },

    "create_hub": {
      "requires": "framework_path must be set",
      "command": "cd <framework_path> && ./scf hub create --guided",
      "what_it_creates": [
        "~/scf-hub/ (or user-chosen path)",
        "hub-profile.json (user preferences)",
        ".scf/ (hub's own buildstate)",
        ".scf-registry/ (spoke tracking)",
        "learnings/ (aggregated patterns)"
      ]
    },

    "update_paths": {
      "after_discovery": "Update framework_path and hub_path in _scf_metadata"
    }
  },

  "_project_foundation": {
    "completed": false,
    "completed_at": null,
    "completed_with": null,

    "identity": {
      "type": null,
      "name": null,
      "one_liner": null,
      "success_looks_like": null
    },

    "boundaries": {
      "in_scope": [],
      "out_of_scope": [],
      "constraints": []
    },

    "approach": {
      "stack_or_tools": [],
      "workflow": null,
      "ai_collaboration_style": null,
      "review_process": null
    },

    "philosophy": {
      "core_principle": "AI as responsible partner, not just enabler",
      "behaviors": [
        "Detect scope drift and flag before enabling",
        "Require explicit acknowledgment for direction changes",
        "Complete foundation before starting work",
        "Prefer 'are you sure?' over silent compliance"
      ]
    },

    "evolution_log": []
  },

  "_session_state": {
    "last_session_id": null,
    "last_modified_by": null,
    "last_modified_at": null,
    "requires_review": false,
    "review_reason": null,
    "session_count": 0
  },

  "project": {
    "name": null,
    "version": "0.1.0",
    "type": null,
    "description": null,
    "repository": null,
    "created": null,
    "last_updated": null
  },

  "stack": [],

  "features": [],

  "decisions": [],

  "next_steps": [
    "Complete project foundation with AI assistant",
    "Define project identity, boundaries, and approach",
    "Begin development with clear context"
  ],

  "bugs": [],

  "ai_rules": {
    "context_loading": "Read .scf/SCF_README.md first, then BUILDSTATE.json and BUILDSTATE.md",
    "session_state": "Update _session_state when making significant changes",
    "foundation_enforcement": {
      "on_incomplete": "CRITICAL: Guide user through foundation questions before any work. Do not skip.",
      "on_drift_detected": "Present options, require explicit choice before proceeding",
      "on_evolution": "Log change with rationale and acknowledgment in evolution_log"
    },
    "stewardship": {
      "principle": "AI is the responsible partner, not just an enabler",
      "behaviors": [
        "Detect scope drift and flag before enabling",
        "Require explicit acknowledgment for direction changes",
        "Complete foundation before starting work",
        "Prefer 'are you sure?' over silent compliance"
      ]
    },
    "signals": {
      "threshold": 8,
      "instruction": "Append to spoke-signals.jsonl if decision impact >= 8"
    }
  }
}
